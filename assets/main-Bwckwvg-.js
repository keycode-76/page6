const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/scene1-DtNco3Ev.js","assets/scene1-BlPwKnGC.css","assets/scene2-CtYvdurd.js","assets/sound-Gwtqw6iZ.js","assets/scene2-DZuqGnrC.css","assets/controller-wm9KnIPi.js"])))=>i.map(i=>d[i]);
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function c(n){if(n.ep)return;n.ep=!0;const e=o(n);fetch(n.href,e)}})();const O="modulepreload",R=function(t){return"/page6/"+t},C={},w=function(r,o,c){let n=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),l=(e==null?void 0:e.nonce)||(e==null?void 0:e.getAttribute("nonce"));n=Promise.all(o.map(u=>{if(u=R(u),u in C)return;C[u]=!0;const _=u.endsWith(".css"),p=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const a=document.createElement("link");if(a.rel=_?"stylesheet":O,_||(a.as="script",a.crossOrigin=""),a.href=u,l&&a.setAttribute("nonce",l),document.head.appendChild(a),_)return new Promise((d,m)=>{a.addEventListener("load",d),a.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}return n.then(()=>r()).catch(e=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=e,window.dispatchEvent(l),!l.defaultPrevented)throw e})},T="/page6/assets/09ChillyRain-Cfp-r9cP.wav";let f="English";const q=document.querySelector("#EN"),N=document.querySelector("#CH"),A=document.querySelector(".EN"),B=document.querySelector(".CH");q.addEventListener("click",()=>{f="English",N.style.display="none",B.style.display="none"});N.addEventListener("click",()=>{f="Tradition-CN",q.style.display="none",A.style.display="none"});const k=new Audio(T);document.getElementById("click_to_start").addEventListener("click",()=>{switch(f){case"English":s=L;break;case"Tradition-CN":s=z;break;default:s=L;break}D()});const L={now_scene:0,now_end:0,qte:"Press the button when entering the dark area",success:"Success!",failed:"Missed!",use:"Use",pop:{item:"Obtained! Check it in the bag",door:"Not this door"},end:{0:["Settings","This is the share button. I'm not good at it yet. If it doesn't work, please copy the URL manually.","Retry this level","Volume"],1:"Ending 1: You were discovered. Return to the room.",2:"Ending 2: Escape failed. You never saw that child again.",3:"Ending 3: Escape successful. You ran towards the main road and were taken in by the town's police station."},item:{0:{name:"Map",bg:"bag_map",type:"map"},1:{name:"Secret Door Key",bg:"bag_key_0",type:"key",door:"s2-1-3",next:2},2:{name:"Back Door Key",bg:"bag_key_1",type:"key",door:"s2-close-2",next:8}}},z={now_scene:0,now_end:0,qte:"進入深色範圍時 按下按鈕",success:"成功！",failed:"沒按到！",use:"使用",pop:{item:"獲得! 請於包包內查看",door:"不是這扇門"},end:{0:["設定","這是分享按鈕 我還不太會做 沒有用的話 請自行拷貝網址","重玩這關","音量"],1:"結局一 你被發現了 回到房間",2:"結局二 逃出失敗 你再也沒見過那個小孩",3:"結局三 逃出成功 你們跑向大馬路 被鎮上警局收留"},item:{0:{name:"地圖",bg:"bag_map",type:"map"},1:{name:"暗門鑰匙",bg:"bag_key_0",type:"key",door:"s2-1-3",next:2},2:{name:"後門鑰匙",bg:"bag_key_1",type:"key",door:"s2-close-2",next:8}}};let s;function D(){g(!0);const t=document.getElementById("game_container");t.innerHTML="";const r=i("background"),o=i("screen"),c=i("set_btn"),n=i("screen_border"),e=i("screen_bg"),l=i("screen_ui"),u=i("scene"),_=i("scene_ux"),p=i("scene_bg"),a=i("end_div"),d=i("end_content"),m=i("end_volume"),h=i("volume_add",0,">"),b=i("volume_sub",0,"<"),y=i("volume_text"),v=i("end_share"),S=i("end_retry");a.append(d,m,v,S),e.appendChild(u),u.append(p,_),o.append(n,e,l,a,c),t.append(r,o),a.style.zIndex=-1,a.style.display="none",d.textContent=s.end[0][0],v.textContent=s.end[0][1],S.textContent=s.end[0][2],m.textContent=s.end[0][3],m.append(b,y,h),P(),v.onclick=function(){navigator.share&&navigator.share({title:"前往Google",text:"走吧?走吧!",url:"https://keycode-76.github.io/page6/"}).then(()=>console.log("成功！")).catch(I=>console.log("發生錯誤",I))},s.now_scene=1,x()}function E(t){const r=document.querySelector("#set_btn"),o=document.querySelector("#scene_bg"),c=document.querySelector("#end_div"),n=document.querySelector("#end_content");g(!1),c.style.display="flex",end_retry.textContent=s.end[0][2],o.className="",c.style.zIndex=1,r.style.zIndex=0,n.textContent=s.end[t],k.currentTime=0,k.play()}function x(){g(!0);const t=document.querySelector("#scene_bg"),r=document.querySelector("#end_div");let o="";switch(s.now_scene){case 1:s.now_end===0?(o=w(()=>import("./scene1-DtNco3Ev.js"),__vite__mapDeps([0,1])),t.className="image_loader1"):E(s.now_end);break;case 2:s.now_end===0?(o=w(()=>import("./scene2-CtYvdurd.js"),__vite__mapDeps([2,3,4])),t.className="image_loader2"):E(s.now_end);break;default:E(3);break}Promise.all([o,w(()=>import("./controller-wm9KnIPi.js"),__vite__mapDeps([5,3]))]).then(([c,n])=>{const{s_data:e,s_lines:l,s_close:u,s_note:_,s_item:p,s_init:a}=c,{user:d,new_scene:m,end_retry:h,next_scene_btn:b}=n;a(f),d.scene_arr=e,d.line_arr=l,d.close_arr=u,d.note_arr=_,d.golbal_arr=s,d.wall=1,d.line_id=0,p.forEach(y=>{d.bag.includes(y)||d.bag.push(y)}),t.addEventListener("animationend",y=>{y.animationName.includes("image_loader")&&(t.className="",g(!1),m(0,e))}),h.addEventListener("click",()=>{s.now_scene>2&&(s.now_scene=2),s.now_end=0,r.style.zIndex=-1,g(!1),x(),k.pause()}),b.addEventListener("click",()=>{s.now_scene=d.golbal_arr.now_scene,g(!1),x()})}).catch(c=>{console.error("Failed to load script:",c)})}function g(t){const r=document.getElementById("initializator");t?r.style.display="block":r.style.display="none"}function P(){const t=window.innerWidth,r=window.innerHeight,o=document.querySelector("#screen");t*1.9<r?o.className="screen_portrait":o.className="screen_landscape"}window.addEventListener("resize",P);function i(t,r,o){const c=document.createElement("div");return t&&(c.id=t),r&&(c.className=r),o&&(c.textContent=o),c}export{f as l};
