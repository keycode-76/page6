const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/scene1-_iIpTiks.js","assets/scene1-C8LmeXYo.css","assets/scene2-C3KMp2_o.js","assets/scene2-Dgon-D0M.css"])))=>i.map(i=>d[i]);
(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(n){if(n.ep)return;n.ep=!0;const t=a(n);fetch(n.href,t)}})();const k="modulepreload",L=function(r){return"/page6/"+r},v={},h=function(s,a,l){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),o=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));n=Promise.all(a.map(c=>{if(c=L(c),c in v)return;v[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const e=document.createElement("link");if(e.rel=d?"stylesheet":k,d||(e.as="script",e.crossOrigin=""),e.href=c,o&&e.setAttribute("nonce",o),document.head.appendChild(e),d)return new Promise((u,_)=>{e.addEventListener("load",u),e.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}return n.then(()=>s()).catch(t=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=t,window.dispatchEvent(o),!o.defaultPrevented)throw t})};document.getElementById("click_to_start").addEventListener("click",()=>{x()});const p={success:"成功！",failed:"沒按到！",use:"使用",pop:{item:"獲得! 請於包包內查看",door:"不適這扇門"},end:{0:["設定","分享","重玩這關"],1:"結局一",2:"結局二",3:"結局三"},item:{0:{name:"地圖",bg:"bag_map",type:"map"},1:{name:"暗門鑰匙",bg:"bag_key_0",type:"key",door:"s2-1-3",next:2},2:{name:"後門鑰匙",bg:"bag_key_1",type:"key",door:"s2-close-1",next:6}}};let f=0;function x(){g(!0);const r=document.getElementById("game_container");r.innerHTML="";const s=i("background"),a=i("screen"),l=i("set_btn"),n=i("screen_border"),t=i("screen_bg"),o=i("screen_ui"),c=i("scene"),d=i("scene_ux"),m=i("scene_bg"),e=i("end_div"),u=i("end_content"),_=i("end_share"),y=i("end_retry");e.append(u,_,y),t.appendChild(c),c.append(m,d),a.append(n,t,o,e,l),r.append(s,a),a.style.background="black",e.style.zIndex=-1,u.textContent=p.end[0][0],_.textContent=p.end[0][1],y.textContent=p.end[0][2],_.onclick=function(){navigator.share&&navigator.share({title:"前往Google",text:"走吧?走吧!",url:"https://keycode-76.github.io/page6/"}).then(()=>console.log("成功！")).catch(b=>console.log("發生錯誤",b))},f=1,E()}function E(){g(!0);const r=document.querySelector("#scene_bg"),s=document.querySelector("#end_div"),a=document.querySelector("#end_content");let l;switch(f){case 1:l=h(()=>import("./scene1-_iIpTiks.js"),__vite__mapDeps([0,1])),r.className="image_loader";break;case 2:l=h(()=>import("./scene2-C3KMp2_o.js"),__vite__mapDeps([2,3])),r.className="image_loader";break;default:f>2&&(r.className="",s.style.zIndex=1,a.textContent=p.end[3],set_btn.style.zIndex=0);break}Promise.all([l,h(()=>import("./controller-FE4XGKDu.js"),[])]).then(([n,t])=>{const{s_data:o,s_lines:c,s_close:d,s_note:m}=n,{user:e,new_scene:u,end_retry:_,next_scene_btn:y}=t;e.scene_arr=o,e.line_arr=c,e.close_arr=d,e.note_arr=m,e.golbal_arr=p,e.wall=1,e.line_id=0,e.line_length=0,r.addEventListener("animationend",b=>{b.animationName==="image_loader"&&(r.className="",g(!1),u(0,o))}),_.addEventListener("click",()=>{f-=1,e.scene_arr=o,e.line_arr=c,e.close_arr=d,e.note_arr=m,e.wall=1,e.line_id=0,e.bag=[0],g(!1),u(0,o),s.style.zIndex=-1}),y.addEventListener("click",()=>{console.log("p"),f+=1,g(!1),E()})}).catch(n=>{console.error("Failed to load script:",n)})}function g(r){const s=document.getElementById("initializator");r?s.style.display="block":s.style.display="none"}function i(r,s,a){const l=document.createElement("div");return r&&(l.id=r),l}
