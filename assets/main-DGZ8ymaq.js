const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/scene1-CVB-Qg-a.js","assets/scene1-DCEKr5Jq.css","assets/scene2-DFU_-SUr.js","assets/scene2-DIM9EEOd.css"])))=>i.map(i=>d[i]);
(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(n){if(n.ep)return;n.ep=!0;const t=i(n);fetch(n.href,t)}})();const h="modulepreload",E=function(r){return"/page6/"+r},b={},_=function(s,i,c){let n=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),o=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));n=Promise.all(i.map(e=>{if(e=E(e),e in b)return;b[e]=!0;const l=e.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${f}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":h,l||(a.as="script",a.crossOrigin=""),a.href=e,o&&a.setAttribute("nonce",o),document.head.appendChild(a),l)return new Promise((p,u)=>{a.addEventListener("load",p),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${e}`)))})}))}return n.then(()=>s()).catch(t=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=t,window.dispatchEvent(o),!o.defaultPrevented)throw t})};document.getElementById("click_to_start").addEventListener("click",()=>{L()});const v={success:"成功！",failed:"沒按到！",use:"使用",pop:{item:"獲得! 請於包包內查看",door:"不適這扇門"},end:{0:["設定","分享","重玩這關"],1:"結局一",2:"結局二",3:"結局三"},item:{0:{name:"地圖",bg:"bag_map",type:"map"},1:{name:"暗門鑰匙",bg:"bag_key_0",type:"key",door:"s2-1-3",next:2},2:{name:"後門鑰匙",bg:"bag_key_1",type:"key",door:"s2-close-1",next:6}}};let m=0;function L(){g(!0);const r=document.getElementById("game_container");r.innerHTML="";const s=d("background"),i=d("screen"),c=d("screen_border"),n=d("screen_bg"),t=d("screen_ui"),o=d("scene"),e=d("scene_ux"),l=d("scene_bg");n.appendChild(o),o.append(l,e),i.append(c,n,t),r.append(s,i),i.style.background="black",m=1,y()}function y(){g(!0),scene_bg.className="image_loader";let r;switch(m){case 1:r=_(()=>import("./scene1-CVB-Qg-a.js"),__vite__mapDeps([0,1]));break;case 2:r=_(()=>import("./scene2-DFU_-SUr.js"),__vite__mapDeps([2,3]));break;default:r=_(()=>import("./scene1-CVB-Qg-a.js"),__vite__mapDeps([0,1]));return}Promise.all([r,_(()=>import("./controller-BbX7s7DN.js"),[])]).then(([s,i])=>{const{s_data:c,s_lines:n,s_close:t,s_note:o}=s,{user:e,new_scene:l,end_div:f,end_retry:a,next_scene_btn:p}=i;e.scene_arr=c,e.line_arr=n,e.close_arr=t,e.note_arr=o,e.golbal_arr=v,e.wall=1,e.line_id=0,e.line_length=0,m>2&&screen.appendChild(f),scene_bg.addEventListener("animationend",u=>{u.animationName==="image_loader"&&(u.className="",g(!1),l(0,c))}),a.addEventListener("click",()=>{e.scene_arr=c,e.line_arr=n,e.close_arr=t,e.note_arr=o,e.wall=1,e.line_id=0,e.bag=[0],l(0,c)}),p.addEventListener("click",()=>{m+=1,e.bag=[0],y()})}).catch(s=>{console.error("Failed to load script:",s)})}function g(r){const s=document.getElementById("initializator");r?s.style.display="block":s.style.display="none"}function d(r,s,i){const c=document.createElement("div");return r&&(c.id=r),c}
