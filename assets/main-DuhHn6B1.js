const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/scene1-BsnIGZ4P.js","assets/scene1-LrXliK__.css","assets/scene2-OnIQN5NG.js","assets/sound-Gwtqw6iZ.js","assets/scene2-BkwXUsbP.css","assets/controller-CWcbS2TL.js"])))=>i.map(i=>d[i]);
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(n){if(n.ep)return;n.ep=!0;const e=t(n);fetch(n.href,e)}})();const S="modulepreload",q=function(o){return"/page6/"+o},L={},h=function(r,t,i){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(e==null?void 0:e.nonce)||(e==null?void 0:e.getAttribute("nonce"));n=Promise.all(t.map(u=>{if(u=q(u),u in L)return;L[u]=!0;const _=u.endsWith(".css"),g=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const l=document.createElement("link");if(l.rel=_?"stylesheet":S,_||(l.as="script",l.crossOrigin=""),l.href=u,a&&l.setAttribute("nonce",a),document.head.appendChild(l),_)return new Promise((d,m)=>{l.addEventListener("load",d),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}return n.then(()=>r()).catch(e=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e})},I="/page6/assets/09ChillyRain-Cfp-r9cP.wav",E=new Audio(I);document.getElementById("click_to_start").addEventListener("click",()=>{N()});const s={language:"",now_scene:0,now_end:0,qte:"進入深色範圍時 按下按鈕",success:"成功！",failed:"沒按到！",use:"使用",pop:{item:"獲得! 請於包包內查看",door:"不是這扇門"},end:{0:["設定","這是分享按鈕 我還不太會做 沒有用的話 請自行拷貝網址","重玩這關","音量"],1:"結局一 你被發現了 回到房間",2:"結局二 逃出失敗 你再也沒見過那個小孩",3:"結局三 逃出成功 你們跑向大馬路 被鎮上警局收留"},item:{0:{name:"地圖",bg:"bag_map",type:"map"},1:{name:"暗門鑰匙",bg:"bag_key_0",type:"key",door:"s2-1-3",next:2},2:{name:"後門鑰匙",bg:"bag_key_1",type:"key",door:"s2-close-2",next:8}}};function N(){p(!0);const o=document.getElementById("game_container");o.innerHTML="";const r=c("background"),t=c("screen"),i=c("set_btn"),n=c("screen_border"),e=c("screen_bg"),a=c("screen_ui"),u=c("scene"),_=c("scene_ux"),g=c("scene_bg"),l=c("end_div"),d=c("end_content"),m=c("end_volume"),y=c("volume_add",0,">"),b=c("volume_sub",0,"<"),f=c("volume_text"),v=c("end_share"),k=c("end_retry");l.append(d,m,v,k),e.appendChild(u),u.append(g,_),t.append(n,e,a,l,i),o.append(r,t),t.style.background="black",l.style.zIndex=-1,d.textContent=s.end[0][0],v.textContent=s.end[0][1],k.textContent=s.end[0][2],m.textContent=s.end[0][3],m.append(b,f,y),C(),v.onclick=function(){navigator.share&&navigator.share({title:"前往Google",text:"走吧?走吧!",url:"https://keycode-76.github.io/page6/"}).then(()=>console.log("成功！")).catch(P=>console.log("發生錯誤",P))},s.now_scene=1,x()}function w(o){const r=document.querySelector("#set_btn"),t=document.querySelector("#scene_bg"),i=document.querySelector("#end_div"),n=document.querySelector("#end_content");end_retry.textContent=s.end[0][2],t.className="",i.style.zIndex=1,r.style.zIndex=0,n.textContent=s.end[o],E.currentTime=0,E.play()}function x(){p(!0);const o=document.querySelector("#scene_bg"),r=document.querySelector("#end_div");let t="";switch(s.now_scene){case 1:s.now_end===0?(t=h(()=>import("./scene1-BsnIGZ4P.js"),__vite__mapDeps([0,1])),o.className="image_loader1"):w(s.now_end);break;case 2:s.now_end===0?(t=h(()=>import("./scene2-OnIQN5NG.js"),__vite__mapDeps([2,3,4])),o.className="image_loader2"):w(s.now_end);break;default:w(3);break}Promise.all([t,h(()=>import("./controller-CWcbS2TL.js"),__vite__mapDeps([5,3]))]).then(([i,n])=>{const{s_data:e,s_lines:a,s_close:u,s_note:_,s_item:g,s_init:l}=i,{user:d,new_scene:m,end_retry:y,next_scene_btn:b}=n;l(),d.scene_arr=e,d.line_arr=a,d.close_arr=u,d.note_arr=_,d.golbal_arr=s,d.wall=1,d.line_id=0,g.forEach(f=>{d.bag.includes(f)||d.bag.push(f)}),o.addEventListener("animationend",f=>{f.animationName.includes("image_loader")&&(o.className="",p(!1),m(0,e))}),y.addEventListener("click",()=>{s.now_scene>2&&(s.now_scene=2),console.log(s.now_scene),s.now_end=0,r.style.zIndex=-1,p(!1),x(),E.pause()}),b.addEventListener("click",()=>{s.now_scene=d.golbal_arr.now_scene,p(!1),x()})}).catch(i=>{console.error("Failed to load script:",i)})}function p(o){const r=document.getElementById("initializator");o?r.style.display="block":r.style.display="none"}function C(){const o=window.innerWidth,r=window.innerHeight,t=document.querySelector("#screen");o*1.9<r?t.className="screen_portrait":t.className="screen_landscape"}window.addEventListener("resize",C);function c(o,r,t){const i=document.createElement("div");return o&&(i.id=o),r&&(i.className=r),t&&(i.textContent=t),i}
