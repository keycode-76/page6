const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/scene1-BsSWsegS.js","assets/scene1-BRdUny6y.css","assets/scene2-C3KMp2_o.js","assets/scene2-Dgon-D0M.css"])))=>i.map(i=>d[i]);
(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function c(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(n){if(n.ep)return;n.ep=!0;const t=c(n);fetch(n.href,t)}})();const k="modulepreload",L=function(r){return"/page6/"+r},v={},h=function(o,c,l){let n=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),s=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));n=Promise.all(c.map(i=>{if(i=L(i),i in v)return;v[i]=!0;const d=i.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${m}`))return;const e=document.createElement("link");if(e.rel=d?"stylesheet":k,d||(e.as="script",e.crossOrigin=""),e.href=i,s&&e.setAttribute("nonce",s),document.head.appendChild(e),d)return new Promise((u,_)=>{e.addEventListener("load",u),e.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${i}`)))})}))}return n.then(()=>o()).catch(t=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=t,window.dispatchEvent(s),!s.defaultPrevented)throw t})};document.getElementById("click_to_start").addEventListener("click",()=>{x()});const p={success:"成功！",failed:"沒按到！",use:"使用",pop:{item:"獲得! 請於包包內查看",door:"不適這扇門"},end:{0:["設定","分享","重玩這關"],1:"結局一",2:"結局二",3:"結局三"},item:{0:{name:"地圖",bg:"bag_map",type:"map"},1:{name:"暗門鑰匙",bg:"bag_key_0",type:"key",door:"s2-1-3",next:2},2:{name:"後門鑰匙",bg:"bag_key_1",type:"key",door:"s2-close-1",next:6}}};let f=0;function x(){g(!0);const r=document.getElementById("game_container");r.innerHTML="";const o=a("background"),c=a("screen"),l=a("set_btn"),n=a("screen_border"),t=a("screen_bg"),s=a("screen_ui"),i=a("scene"),d=a("scene_ux"),m=a("scene_bg"),e=a("end_div"),u=a("end_content"),_=a("end_share"),y=a("end_retry");e.append(u,_,y),t.appendChild(i),i.append(m,d),c.append(n,t,s,e,l),r.append(o,c),c.style.background="black",e.style.zIndex=-1,u.textContent=p.end[0][0],_.textContent=p.end[0][1],y.textContent=p.end[0][2],w(),_.onclick=function(){navigator.share&&navigator.share({title:"前往Google",text:"走吧?走吧!",url:"https://keycode-76.github.io/page6/"}).then(()=>console.log("成功！")).catch(b=>console.log("發生錯誤",b))},f=1,E()}function E(){g(!0);const r=document.querySelector("#scene_bg"),o=document.querySelector("#end_div"),c=document.querySelector("#end_content");let l;switch(f){case 1:l=h(()=>import("./scene1-BsSWsegS.js"),__vite__mapDeps([0,1])),r.className="image_loader";break;case 2:l=h(()=>import("./scene2-C3KMp2_o.js"),__vite__mapDeps([2,3])),r.className="image_loader";break;default:f>2&&(r.className="",o.style.zIndex=1,c.textContent=p.end[3],set_btn.style.zIndex=0);break}Promise.all([l,h(()=>import("./controller-FE4XGKDu.js"),[])]).then(([n,t])=>{const{s_data:s,s_lines:i,s_close:d,s_note:m}=n,{user:e,new_scene:u,end_retry:_,next_scene_btn:y}=t;e.scene_arr=s,e.line_arr=i,e.close_arr=d,e.note_arr=m,e.golbal_arr=p,e.wall=1,e.line_id=0,e.line_length=0,r.addEventListener("animationend",b=>{b.animationName==="image_loader"&&(r.className="",g(!1),u(0,s))}),_.addEventListener("click",()=>{f-=1,e.scene_arr=s,e.line_arr=i,e.close_arr=d,e.note_arr=m,e.wall=1,e.line_id=0,e.bag=[0],g(!1),u(0,s),o.style.zIndex=-1}),y.addEventListener("click",()=>{console.log("p"),f+=1,g(!1),E()})}).catch(n=>{console.error("Failed to load script:",n)})}function g(r){const o=document.getElementById("initializator");r?o.style.display="block":o.style.display="none"}function w(){const r=window.innerWidth,o=window.innerHeight;console.log(r*1.81<o);const c=document.querySelector("#screen");r*1.9<o?c.className="screen_portrait":c.className="screen_landscape"}window.addEventListener("resize",w);function a(r,o,c){const l=document.createElement("div");return r&&(l.id=r),l}
